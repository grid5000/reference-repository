<%
  # File generated by 'rake mass:create SRC=doc/sophia-clusters-mass-create-tmp.csv
  # If changes are needed, it might be better to edit the source data and regenerate using 'rake mass:create'
 
  cluster_name = "mercantour3"
  nodes_number = 16 # Size of the cluster (number of nodes)
  # MAC addresses declaration
  mac_eth0_list = %w(
50:9a:4c:6c:38:af
50:9a:4c:6c:39:82
50:9a:4c:6c:38:d9
50:9a:4c:6c:39:53
50:9a:4c:6c:38:9e
50:9a:4c:6c:39:31
50:9a:4c:6b:5d:b0
50:9a:4c:85:c8:15
50:9a:4c:70:fa:7a
50:9a:4c:70:fa:3c
50:9a:4c:70:fa:7c
50:9a:4c:70:aa:e1
50:9a:4c:6c:38:ad
50:9a:4c:6c:38:6b
50:9a:4c:6c:39:85
50:9a:4c:6c:39:89
  )
  mac_bmc_list = %w(
50:9a:4c:6c:32:83
50:9a:4c:6c:37:75
50:9a:4c:6c:33:7f
50:9a:4c:6c:36:5b
50:9a:4c:6c:32:1d
50:9a:4c:6c:35:8f
50:9a:4c:6b:54:b9
50:9a:4c:85:c5:28
50:9a:4c:70:f6:58
50:9a:4c:70:f7:cc
50:9a:4c:70:f6:4c
50:9a:4c:70:a4:06
50:9a:4c:6c:32:77
50:9a:4c:6c:30:eb
50:9a:4c:6c:37:87
50:9a:4c:6c:37:9f
  )
%>
---
nodes:
<% (1..nodes_number).each { |i| %>
 <%= cluster_name %>-<%= i %>:
    architecture:
      nb_procs: 1 # Fake data, will be replaced by g5k-checks
      nb_cores: 72 # Fake data, will be replaced by g5k-checks
      nb_threads: 72 # Fake data, will be replaced by g5k-checks
      platform_type: x86_64 # Fake data, will be replaced by g5k-checks
      cpu_core_numbering: contiguous # Fake data, will be replaced by g5k-checks
    bios:
      release_date: 01/01/2000 # Fake date, will be replaced by g5k-checks
      vendor: Unknown # Fake vendor, will be replaced by g5k-checks
      version: 1 # Fake version, will be replaced by g5k-checks
    bmc_version: v1 # Fake version, will be replaced by g5k-checks
    chassis:
      manufacturer: Unknown # Fake manufacturer, will be replaced by g5k-checks
      name: Unknown # Fake name, will be replaced by g5k-checks
    main_memory:
      ram_size: 8 # Fake size, will be replaced by g5k-checks
    memory_devices:
      dimm:
        size: 8 # Fake size, will be replaced by g5k-checks
        technology: dram # Common memory technology, will be replaced by g5k-checks
    processor:
      model: Intel Xeon # Fake model name, will be replaced by g5k-checks
      other_description: Intel(R) Xeon(R) Silver 4114 CPU @ 2.20GHz # Fake description, will be replaced by g5k-checks
      vendor: Intel # Fake vendor, will be replaced by g5k-checks
      version: Silver 4114 # Fake version, will be replaced by g5k-checks
      cache_l1d: 8 # Fake cache, will be replaced by g5k-checks
      cache_l1i: 8 # Fake cache, will be replaced by g5k-checks
      cache_l2: 8 # Fake cache, will be replaced by g5k-checks
      cache_l3: 8 # Fake cache, will be replaced by g5k-checks
      instruction_set: x86-64 # Common instruction set, will be replaced by g5k-checks
      microcode: "0xd000001" # Fake microcode, will be replaced by g5k-checks
      ht_capable: true # Default ht capable value, will be replaced by g5k-checks 
    main_memory:
      ram_size: 8 # Fake ram size, will be replaced by g5k-checks
    memory_devices:
      dimm_proc 1 dimm 1: # Fake dimm name, will be replaced by g5k-checks
        size: 8 # Fake dimm size, will be replaced by g5k-checks
        technology: dram # Default dimm technology, will be replaced by g5k-checks
    operating_system:
      cstate_driver: unknown # Fake driver, will be replaced by g5k-checks
      cstate_governor: unknown # Fake governor, will be replaced by g5k-checks
      ht_enabled: true # common value for hyper threading, will be replaced by g5k-checks
      pstate_driver: unknwon # Fake driver, will be replaced by g5k-checks
      pstate_governor: unknown # Fake driver, will be replaced by g5k-checks
      turboboost_enabled: true # Default value for turboboost, will be replaced by g5k-checks 
    network_adapters:
      bmc:
        management: true
        mac: <%= mac_bmc_list[i - 1] %>
      eth0:
        interface: Ethernet
        management: false
        driver: mlx_core # Fake data, will be replaced by g5k-checks
        name: enp1s0f0np0 # Fake data, will be replaced by g5k-checks
        rate: 1000000000 # Fake data, will be replaced by g5k-checks
        mac: <%= mac_eth0_list[i - 1] %>
    storage_devices:
      disk0:
        storage: SSD # Fake data, will be replaced by g5k-checks
        model: unknown # Fake data, will be replaced by g5k-checks
        size: 8 # Fake data, will be replaced by g5k-checks
<% } %>
